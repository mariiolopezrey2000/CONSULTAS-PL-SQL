3-
CREATE  TABLE FACTURACION  AS 
SELECT A.ARTICULO,A.COD_FABRICANTE,A.PESO,A.CATEGORIA,SUM(PRECIO_VENTA*UNIDADES_VENDIDAS) FACTURACION
FROM ARTICULOS A,VENTAS V
WHERE A.ARTICULO=V.ARTICULO AND 
A.COD_FABRICANTE=V.COD_FABRICANTE AND
A.PESO=V.PESO AND
A.CATEGORIA=V.CATEGORIA GROUP BY (A.ARTICULO,A.COD_FABRICANTE,A.PESO,A.CATEGORIA);

4-
SELECT * FROM PROFESORES;
SELECT * FROM CENTROS;

 CREATE OR REPLACE VIEW VISTA_PROFESORES
 AS
SELECT DNI,APELLIDOS,ESPECIALIDAD,NOMBRE,DIRECCION FROM PROFESORES P,CENTROS C
 WHERE C.COD_CENTRO=P.COD_CENTRO;
 
 
SELECT * FROM VISTA_PROFESORES;

INSERT INTO VISTA_PROFESORES VALUES 
(123,'MARIO LOPEZ','MATES','IES El Quijote','C/Las Musas s/n')

nos manda un error de que no podemos a√±adir columnas.

5- 
DELETE FROM ARTICULOS  WHERE (ARTICULO,COD_FABRICANTE,PESO,CATEGORIA) IN 
(SELECT A.ARTICULO,A.COD_FABRICANTE,A.PESO,A.CATEGORIA FROM ARTICULOS A,VENTAS V
WHERE A.ARTICULO=V.ARTICULO AND 
A.COD_FABRICANTE=V.COD_FABRICANTE AND
A.PESO=V.PESO AND
A.CATEGORIA=V.CATEGORIA GROUP BY (A.ARTICULO,A.COD_FABRICANTE,A.PESO,A.CATEGORIA)
HAVING COUNT(*)=
(SELECT MIN(COUNT(*)) FROM ARTICULOS A,VENTAS V
WHERE A.ARTICULO=V.ARTICULO AND 
A.COD_FABRICANTE=V.COD_FABRICANTE AND
A.PESO=V.PESO AND
A.CATEGORIA=V.CATEGORIA GROUP BY (A.ARTICULO,A.COD_FABRICANTE,A.PESO,A.CATEGORIA)))

6-
START C:\TABLAS\tablacolegionotas



A-
SELECT A.NOMBRE,M.DNI,C.NOMBRE,AGNO_LECTIVO FROM ALUMNOS A,CURSOS C,MATRICULAS M
WHERE M.DNI =A.DNI AND M.ID_CURSO=C.ID_CURSO   AND C.NOMBRE='1 DAM' ORDER BY M.AGNO_LECTIVO,A.NOMBRE;

B-


SELECT DISTINCT A.NOMBRE FROM ALUMNOS A,CURSOS C,MODULOS MO,NOTAS N
WHERE  C.ID_CURSO=MO.ID_CURSO AND MO.ID_MODULO=N.ID_MODULO AND MO.ID_CURSO=N.ID_CURSO AND A.DNI=N.DNI  AND C.NOMBRE='1 DAM'
AND A.DNI 
IN(SELECT DISTINCT N.DNI FROM NOTAS N,MODULOS MO,CURSOS C WHERE C.ID_CURSO=MO.ID_CURSO AND N.ID_CURSO=MO.ID_CURSO AND NOTA<5 AND NUM_HORAS>200 AND C.NOMBRE='1 DAM') 
OR A.DNI IN
(SELECT  N.DNI FROM NOTAS N,MODULOS MO,CURSOS C WHERE N.ID_CURSO=MO.ID_CURSO AND C.ID_CURSO=MO.ID_CURSO AND C.NOMBRE='1 DAM'  AND NOTA <5 GROUP BY N.DNI HAVING COUNT(*)>1 )



SELECT * FROM CURSOS;
SELECT * FROM MODULOS;
SELECT * FROM MATRICULAS;
SELECT * FROM ALUMNOS;
SELECT * FROM NOTAS;
DESC NOTAS;


7-
SELECT CONSTRAINT_NAME, COLUMN_NAME, TABLE_NAME 
FROM USER_CONS_COLUMNS
WHERE TABLE_NAME ='MATRICULAS' AND OWNER='SYSTEM';

ALTER TABLE MATRICULAS DISABLE CONSTRAINT FK_ALUMNOS;
ALTER TABLE MATRICULAS DISABLE CONSTRAINT PK_MATRICULAS;

ALTER TABLE MATRICULAS ENABLE CONSTRAINT FK_ALUMNOS;
ALTER TABLE MATRICULAS ENABLE CONSTRAINT PK_MATRICULAS;

8-
SELECT TABLE_NAME, CONSTRAINT_NAME FROM ALL_CONSTRAINTS
WHERE R_CONSTRAINT_NAME IN (SELECT CONSTRAINT_NAME FROM ALL_CONSTRAINTS WHERE TABLE_NAME = 'ARTICULOS' OR TABLE_NAME = 'TIENDAS')AND CONSTRAINT_TYPE = 'R'